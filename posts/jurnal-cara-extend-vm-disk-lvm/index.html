<!doctype html><html lang=id dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Jurnal: Cara Extend VM Disk untuk LVM | Linux & Cloud | Blog An-Nahri</title>
<meta name=keywords content="lvm,extend,disk"><meta name=description content="
Saya akan menjelaskan cara mudah untuk resize disk suatu VM dengan konfigurasi LVM. Asumsinya, disk sudah diextend dari sisi HVnya (PVE, ESXi, dll).
Pastikan penambahan space sudah terdeteksi dari VM melalui dmesg dan Anda akan mendapati informasi seperti ini:


1
2


[262733.527587] sd 0:0:2:0: [abc] 4096-byte physical blocks
[262733.528263] abc: detected capacity change from 214748364800 to 429496729600


Kalau ternyata belum terdeteksi, bisa dicoba untuk menjalankan perintah ini"><meta name=author content="Muhammad Ahfas An Nahri"><link rel=canonical href=https://blog.annahri.com/posts/jurnal-cara-extend-vm-disk-lvm/><link crossorigin=anonymous href=/assets/css/stylesheet.13f755722324cf8e264349d656091daf6050df39254ee701eab199fdc10f1c5a.css integrity="sha256-E/dVciMkz44mQ0nWVgkdr2BQ3zklTucB6rGZ/cEPHFo=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.annahri.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.annahri.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.annahri.com/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.annahri.com/apple-touch-icon.png><link rel=mask-icon href=https://blog.annahri.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=id href=https://blog.annahri.com/posts/jurnal-cara-extend-vm-disk-lvm/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=stylesheet href=https://blog.annahri.com/css/custom_papermod.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-CY69EEKCTJ"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CY69EEKCTJ")}</script><meta property="og:url" content="https://blog.annahri.com/posts/jurnal-cara-extend-vm-disk-lvm/"><meta property="og:site_name" content="Linux & Cloud | Blog An-Nahri"><meta property="og:title" content="Jurnal: Cara Extend VM Disk untuk LVM"><meta property="og:description" content="
Saya akan menjelaskan cara mudah untuk resize disk suatu VM dengan konfigurasi LVM. Asumsinya, disk sudah diextend dari sisi HVnya (PVE, ESXi, dll).
Pastikan penambahan space sudah terdeteksi dari VM melalui dmesg dan Anda akan mendapati informasi seperti ini:
1 2 [262733.527587] sd 0:0:2:0: [abc] 4096-byte physical blocks [262733.528263] abc: detected capacity change from 214748364800 to 429496729600 Kalau ternyata belum terdeteksi, bisa dicoba untuk menjalankan perintah ini"><meta property="og:locale" content="id-id"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-11-02T18:58:41+00:00"><meta property="article:modified_time" content="2021-11-02T18:58:41+00:00"><meta property="article:tag" content="LVM"><meta property="article:tag" content="Extend"><meta property="article:tag" content="Disk"><meta name=twitter:card content="summary"><meta name=twitter:title content="Jurnal: Cara Extend VM Disk untuk LVM"><meta name=twitter:description content="
Saya akan menjelaskan cara mudah untuk resize disk suatu VM dengan konfigurasi LVM. Asumsinya, disk sudah diextend dari sisi HVnya (PVE, ESXi, dll).
Pastikan penambahan space sudah terdeteksi dari VM melalui dmesg dan Anda akan mendapati informasi seperti ini:


1
2


[262733.527587] sd 0:0:2:0: [abc] 4096-byte physical blocks
[262733.528263] abc: detected capacity change from 214748364800 to 429496729600


Kalau ternyata belum terdeteksi, bisa dicoba untuk menjalankan perintah ini"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.annahri.com/posts/"},{"@type":"ListItem","position":2,"name":"Jurnal: Cara Extend VM Disk untuk LVM","item":"https://blog.annahri.com/posts/jurnal-cara-extend-vm-disk-lvm/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Jurnal: Cara Extend VM Disk untuk LVM","name":"Jurnal: Cara Extend VM Disk untuk LVM","description":"\nSaya akan menjelaskan cara mudah untuk resize disk suatu VM dengan konfigurasi LVM. Asumsinya, disk sudah diextend dari sisi HVnya (PVE, ESXi, dll).\nPastikan penambahan space sudah terdeteksi dari VM melalui dmesg dan Anda akan mendapati informasi seperti ini:\n1 2 [262733.527587] sd 0:0:2:0: [abc] 4096-byte physical blocks [262733.528263] abc: detected capacity change from 214748364800 to 429496729600 Kalau ternyata belum terdeteksi, bisa dicoba untuk menjalankan perintah ini\n","keywords":["lvm","extend","disk"],"articleBody":"\nSaya akan menjelaskan cara mudah untuk resize disk suatu VM dengan konfigurasi LVM. Asumsinya, disk sudah diextend dari sisi HVnya (PVE, ESXi, dll).\nPastikan penambahan space sudah terdeteksi dari VM melalui dmesg dan Anda akan mendapati informasi seperti ini:\n1 2 [262733.527587] sd 0:0:2:0: [abc] 4096-byte physical blocks [262733.528263] abc: detected capacity change from 214748364800 to 429496729600 Kalau ternyata belum terdeteksi, bisa dicoba untuk menjalankan perintah ini\n1 echo 1 \u003e /sys/class/block//device/rescan Lalu coba cek kembali di dmesg. Kalau sudah muncul bisa langsung jalankan perintah berikut:\n1 2 3 growpart /dev/ # contoh `growpart /dev/sda 1` pvresize /dev/ # contoh `pvresize /dev/sda1` lvresize --extents +100%FREE --resizefs /dev/xxx/yyy # Value xxx yyy merujuk pada logical volume path Khusus untuk growpart jika tidak tersedia pada sistem Anda, maka bisa Anda gunakan parted\n1 2 3 parted /dev/ (parted) resizepart 100% (parted) quit Selesai. Semoga bermanfaat, insyaAllah\n","wordCount":"146","inLanguage":"id","datePublished":"2021-11-02T18:58:41Z","dateModified":"2021-11-02T18:58:41Z","author":[{"@type":"Person","name":"Muhammad Ahfas An Nahri"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.annahri.com/posts/jurnal-cara-extend-vm-disk-lvm/"},"publisher":{"@type":"Organization","name":"Linux \u0026 Cloud | Blog An-Nahri","logo":{"@type":"ImageObject","url":"https://blog.annahri.com/favicon.ico"}}}</script></head><body class=dark id=top><header class=header><nav class=nav><div class=logo><a href=https://blog.annahri.com/ accesskey=h title="Linux & Cloud | Blog An-Nahri (Alt + H)">Linux & Cloud | Blog An-Nahri</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://blog.annahri.com/arsip/ title=Arsip><span>Arsip</span></a></li><li><a href=https://blog.annahri.com/categories/ title=Kategori><span>Kategori</span></a></li><li><a href=https://blog.annahri.com/tags/ title=Tagar><span>Tagar</span></a></li><li><a href=https://blog.annahri.com/cari/ title=Pencarian><span>Pencarian</span></a></li><li><a href=https://blog.annahri.com/tentang/ title=Tentang><span>Tentang</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.annahri.com/>Beranda</a>&nbsp;»&nbsp;<a href=https://blog.annahri.com/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Jurnal: Cara Extend VM Disk untuk LVM</h1><div class=post-meta><span class=post-date date-time='2021-11-02 18:58:41 +0000 UTC'>2 November 2021</span>&nbsp;·&nbsp;1 menit&nbsp;·&nbsp;Muhammad Ahfas An Nahri&nbsp;|&nbsp;<a href=https://github.com/annahri/blog.annahri.com/tree/main/content/posts/jurnal-cara-extend-vm-disk-lvm.md rel="noopener noreferrer" target=_blank>Sarankan Pengubahan</a></div></header><div class=post-content><p><img alt=Bismillah loading=lazy src=/images/bismillah-2.png#center></p><p>Saya akan menjelaskan cara mudah untuk resize disk suatu VM dengan konfigurasi LVM. Asumsinya, disk sudah diextend dari sisi HVnya (PVE, ESXi, dll).</p><p>Pastikan penambahan space sudah terdeteksi dari VM melalui <code>dmesg</code> dan Anda akan mendapati informasi seperti ini:</p><div class=highlight><div style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>[262733.527587] sd 0:0:2:0: [abc] 4096-byte physical blocks
</span></span><span style=display:flex><span>[262733.528263] abc: detected capacity change from 214748364800 to 429496729600
</span></span></code></pre></td></tr></table></div></div><p>Kalau ternyata belum terdeteksi, bisa dicoba untuk menjalankan perintah ini</p><div class=highlight><div style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#fabd2f>echo</span> <span style=color:#d3869b>1</span> &gt; /sys/class/block/&lt;disk&gt;/device/rescan
</span></span></code></pre></td></tr></table></div></div><p>Lalu coba cek kembali di <code>dmesg</code>. Kalau sudah muncul bisa langsung jalankan perintah berikut:</p><div class=highlight><div style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>growpart /dev/&lt;disk&gt; &lt;no-partisi&gt; <span style=color:#928374;font-style:italic># contoh `growpart /dev/sda 1`</span>
</span></span><span style=display:flex><span>pvresize /dev/&lt;partisi&gt; <span style=color:#928374;font-style:italic># contoh `pvresize /dev/sda1`</span>
</span></span><span style=display:flex><span>lvresize --extents +100%FREE --resizefs /dev/xxx/yyy <span style=color:#928374;font-style:italic># Value xxx yyy merujuk pada logical volume path</span>
</span></span></code></pre></td></tr></table></div></div><p>Khusus untuk <code>growpart</code> jika tidak tersedia pada sistem Anda, maka bisa Anda gunakan <code>parted</code></p><div class=highlight><div style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>parted /dev/&lt;disk&gt;
</span></span><span style=display:flex><span><span style=color:#fe8019>(</span>parted<span style=color:#fe8019>)</span> resizepart &lt;no-partisi&gt; 100%
</span></span><span style=display:flex><span><span style=color:#fe8019>(</span>parted<span style=color:#fe8019>)</span> quit
</span></span></code></pre></td></tr></table></div></div><p>Selesai. Semoga bermanfaat, <em>insyaAllah</em></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.annahri.com/tags/lvm/>LVM</a></li><li><a href=https://blog.annahri.com/tags/extend/>Extend</a></li><li><a href=https://blog.annahri.com/tags/disk/>Disk</a></li></ul><nav class=paginav><a class=prev href=https://blog.annahri.com/posts/trik-bash-shell-1/><span class=title>« Sebelumnya</span><br><span>Trik Bash Shell #1</span>
</a><a class=next href=https://blog.annahri.com/posts/lemp-stack-ubuntu20-04-focal/><span class=title>Selanjutnya »</span><br><span>Instalasi LEMP Stack (Linux, Nginx, MariaDB, PHP) pada Ubuntu 20.04</span></a></nav></footer><script src=https://giscus.app/client.js data-repo=annahri/blog.annahri.com data-repo-id=R_kgDOGUC4_g data-category=General data-category-id=DIC_kwDOGUC4_s4CdOMx data-mapping=og:title data-reactions-enabled=0 data-emit-metadata=0 data-input-position=top data-theme=dark_dimmed data-lang=id data-loading=lazy crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://blog.annahri.com/>Linux & Cloud | Blog An-Nahri</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="salin";function s(){t.innerHTML="disalin!",setTimeout(()=>{t.innerHTML="salin"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>